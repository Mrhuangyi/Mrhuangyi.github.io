---
title: 1050 螺旋矩阵(25)（25 分）
date: 2018-06-09 12:05:39
tags: PAT
categories: 题解集
---

1050 螺旋矩阵(25)（25 分）
本题要求将给定的N个正整数按非递增的顺序，填入“螺旋矩阵”。所谓“螺旋矩阵”，是指从左上角第1个格子开始，按顺时针螺旋方向填充。要求矩阵的规模为m行n列，满足条件：m*n等于N；m>=n；且m-n取所有可能值中的最小值。

输入格式：

输入在第1行中给出一个正整数N，第2行给出N个待填充的正整数。所有数字不超过10^4^，相邻数字以空格分隔。

输出格式：

输出螺旋矩阵。每行n个数字，共m行。相邻数字以1个空格分隔，行末不得有多余空格。

输入样例：

12
37 76 20 98 76 42 53 95 60 81 58 93
输出样例：

98 95 93
42 37 81
53 20 76
58 60 76

采用旋转填充矩阵的方式，但是n为素数的时候是只有一列的。
```cpp
#include<iostream>
#include<cstdio>
#include<algorithm>
#include<cmath>
#include<cstring>
#include<cctype>
using namespace std;
int n;
void solve(){
    int a[n];
    for(int i=0;i<n;i++){
        scanf("%d",&a[i]);
    }
    sort(a,a+n);
    int x=sqrt(n),m;
    while(n%x){
        x--;
    }
    m=n/x;
    int t[m][x];
    for(int side=0,k=n-1;side*2<x;side++){
        for(int j=side;j<x-side;j++){
            t[side][j]=a[k--];
        }
        for(int i=side+1;i<m-side;i++){
            t[i][x-1-side]=a[k--];
        }
        for(int j=x-2-side;j>=side;j--){
            t[m-1-side][j]=a[k--];
        }
        if(x-1-side>side){
            for(int i=m-2-side;i>=side+1;i--){
                t[i][side]=a[k--];
            }
        }
    }
    for(int i=0;i<m;i++){
        for(int j=0;j<x;j++){
            printf("%d",t[i][j]);
            if(j+1<x){
                printf(" ");
            }
        }
        printf("\n");
    }
}
int main(){
    scanf("%d",&n);
    solve();
    return 0;
}

```