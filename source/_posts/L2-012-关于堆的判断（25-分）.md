---
title: L2-012 关于堆的判断（25 分）
date: 2018-07-07 14:48:41
tags: PAT
categories: 题解集
---

L2-012 关于堆的判断（25 分）
将一系列给定数字顺序插入一个初始为空的小顶堆H[]。随后判断一系列相关命题是否为真。命题分下列几种：

- “x is the root”：x是根结点；
- “x and y are siblings”：x和y是兄弟结点；
- “x is the parent of y”：x是y的父结点；
- “x is a child of y”：x是y的一个子结点。
输入格式：

每组测试第1行包含2个正整数N（<= 1000）和M（<= 20），分别是插入元素的个数、以及需要判断的命题数。下一行给出区间[-10000, 10000]内的N个要被插入一个初始为空的小顶堆的整数。之后M行，每行给出一个命题。题目保证命题中的结点键值都是存在的。

输出格式：

对输入的每个命题，如果其为真，则在一行中输出“T”，否则输出“F”。

输入样例：
```
5 4
46 23 26 24 10
24 is the root
26 and 23 are siblings
46 is the parent of 23
23 is a child of 10
```
输出样例：
```
F
T
F
T
```
首先提一下概念：堆是一棵完全二叉树，树中每个结点的值都不小于（或不大于）其左右孩子结点的值。
小顶堆是指每个父亲结点的值小于等于孩子结点的值，每个结点的值都是以它为根结点的子树的最小值。

题目要求根据给出的数值建立小顶堆，然后根据建立的小顶堆判断相应结点关系是否正确

```cpp
#include<iostream>
#include<cstdio>
#include<cstring>
#include<map>
using namespace std;
const int maxm = 10010;
const int inf = 99999999;
int a[maxm],cnt;
void creat(int x){
    a[++cnt] = x;
    int t = cnt;
    while(t>1&&(a[t/2]>a[t])){
        a[t] = a[t/2];
        a[t/2] = x;
        t /= 2;
    }
    a[t] = x;

}
int main()
{
    int n,m,x,y;
    string s;
    map<int,int> p;
    scanf("%d%d",&n,&m);
    cnt = 0;
    for(int i=1;i<=n;i++){
        scanf("%d",&x);
        creat(x);
    }
    for(int i=1;i<=n;i++){
        p[a[i]] = i;
    }
    for(int i=0;i<m;i++){
        scanf("%d",&x);
        cin>>s;
        if(s[0]=='a'){
            scanf("%d",&y);
            getline(cin,s);
            if(p[x]/2==p[y]/2){
                printf("T\n");
            }else{
            printf("F\n");
            }
        }else{
        cin>>s;
        cin>>s;
        if(s[0]=='r'){
            if(p[x]==1){
                printf("T\n");
            }else{
            printf("F\n");
            }
        }else if(s[0]=='p'){
            cin>>s;
            cin>>y;
            if(p[x]==p[y]/2){
                printf("T\n");
            }else{
            printf("F\n");
            }
        }else{
            cin>>s;
            cin>>y;
            if(p[x]/2==p[y]){
                printf("T\n");
            }else{
            printf("F\n");
            }
        }
        }
    }
    return 0;
}

```